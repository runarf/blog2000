{"componentChunkName":"component---src-templates-posts-page-layout-js","path":"/content/NginxConf/","result":{"data":{"mdx":{"id":"2f4a034c-7550-559c-9a55-f91759b8a28f","body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"IN PROGRESS: Lets look closer into the nginx config file\",\n  \"date\": \"2020-03-04\",\n  \"type\": \"blog\"\n};\n\nvar makeShortcode = function makeShortcode(name) {\n  return function MDXDefaultShortcode(props) {\n    console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n    return mdx(\"div\", props);\n  };\n};\n\nvar CodeBlock = makeShortcode(\"CodeBlock\");\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"When using the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nginx:alpine\"), \" image, we are using a default configuration of nginx. This default configuration launches nginx, serves the app, and then shuts down. This means the app will only be served and then shut down again. To prevent nginx to shut down we need to run the command above. The \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"CMD\"), \" is docker syntax of running a command in the docker container. It is equal to running \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"nginx -g deamon off;\"), \" in a terminal inside the docker container.\"), mdx(\"p\", null, \"This means we could edit the default configuration of nginx to achieve the same. Lets first look at the default configuration\"), mdx(CodeBlock, {\n    className: \"nginx\",\n    mdxType: \"CodeBlock\"\n  }, \"\\n#/etc/nginx/nginx.conf\\n \\nuser  nginx;\\nworker_processes  auto;\\n \\nerror_log  /var/log/nginx/error.log warn;\\npid        /var/run/nginx.pid;\\n \\n \\nevents {\\n    worker_connections  1024;\\n}\\n \\n  \\nhttp {\\n    include       /etc/nginx/mime.types;\\n    default_type  application/octet-stream;\\n \\n    log_format  main  '$remote_addr - $remote_user [$time_local] \\\"$request\\\" '\\n                      '$status $body_bytes_sent \\\"$http_referer\\\" '\\n                      '\\\"$http_user_agent\\\" \\\"$http_x_forwarded_for\\\"';\\n \\n    access_log  /var/log/nginx/access.log  main;\\n \\n    sendfile        on;\\n    #tcp_nopush     on;\\n \\n    keepalive_timeout  65;\\n \\n    #gzip  on;\\n \\n    include /etc/nginx/conf.d/*.conf;\\n}\\n\"), mdx(\"p\", null, \"There is a lot of information. We see the default config file includes potentially other config files \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"include /etc/nginx/conf.d/*.conf;\")), mdx(CodeBlock, {\n    className: \"nginx\",\n    mdxType: \"CodeBlock\"\n  }, \"\\n#/etc/nginx/conf.d/default.conf \\nserver {\\n    listen       80;\\n    server_name  localhost;\\n \\n    location / {\\n        root   /usr/share/nginx/html;\\n        index  index.html index.htm;\\n    }\\n \\n    error_page   500 502 503 504  /50x.html;\\n    location = /50x.html {\\n        root   /usr/share/nginx/html;\\n    }\\n}\\n\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"IN PROGRESS: Lets look closer into the nginx config file"}}},"pageContext":{"id":"2f4a034c-7550-559c-9a55-f91759b8a28f"}}}